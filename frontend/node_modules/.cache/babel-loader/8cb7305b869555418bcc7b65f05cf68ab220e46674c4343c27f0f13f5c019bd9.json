{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/thilak/PythonFiles/Intern/safety_culture/fashcognitive-intern/frontend/src/pages/Create_template.tsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState, useEffect, useRef } from \"react\";\nimport '../assets/Create_template.css';\nimport { ChevronDown, ChevronUp, Edit, Plus, Calendar, User, MapPin, X, Check, Image, Trash2, Move, ExternalLink, Clock, ArrowLeft, Save } from 'lucide-react';\n\n// Types\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Helper functions\nconst generateId = () => Math.random().toString(36).substring(2, 9);\nconst getDefaultQuestion = (responseType = \"Text\") => ({\n  id: generateId(),\n  text: \"Type question\",\n  responseType,\n  required: false,\n  options: responseType === \"Multiple choice\" || responseType === \"Yes/No\" ? [\"Option 1\", \"Option 2\", \"Option 3\"] : undefined,\n  value: null\n});\nconst getDefaultSection = (title = \"Untitled Page\") => ({\n  id: generateId(),\n  title,\n  questions: [],\n  isCollapsed: false\n});\nconst getInitialTemplate = () => {\n  const titlePageSection = {\n    id: generateId(),\n    title: \"Title Page\",\n    description: \"The Title Page is the first page of your inspection report. You can\",\n    questions: [{\n      id: generateId(),\n      text: \"Site conducted\",\n      responseType: \"Site\",\n      required: true,\n      value: null\n    }, {\n      id: generateId(),\n      text: \"Conducted on\",\n      responseType: \"Inspection date\",\n      required: true,\n      value: null\n    }, {\n      id: generateId(),\n      text: \"Prepared by\",\n      responseType: \"Person\",\n      required: true,\n      value: null\n    }, {\n      id: generateId(),\n      text: \"Location\",\n      responseType: \"Inspection location\",\n      required: true,\n      value: null\n    }],\n    isCollapsed: false\n  };\n  return {\n    id: generateId(),\n    title: \"Untitled template\",\n    description: \"Add a description\",\n    sections: [titlePageSection],\n    lastSaved: new Date(),\n    lastPublished: new Date(),\n    logo: undefined\n  };\n};\n\n// Main component\nconst Create_template = () => {\n  _s();\n  const [template, setTemplate] = useState(getInitialTemplate());\n  const [activeTab, setActiveTab] = useState(1);\n  const [activeSectionId, setActiveSectionId] = useState(null);\n  const [activeQuestionId, setActiveQuestionId] = useState(null);\n  const [draggedItem, setDraggedItem] = useState(null);\n  const [dropTarget, setDropTarget] = useState(null);\n  const [showResponseTypeMenu, setShowResponseTypeMenu] = useState(null);\n  const [showMobilePreview, setShowMobilePreview] = useState(true);\n  const [allChangesSaved, setAllChangesSaved] = useState(true);\n  const [templateData, setTemplateData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Refs\n  const questionRefs = useRef({});\n  const sectionRefs = useRef({});\n  useEffect(() => {\n    const fetchTemplates = async () => {\n      try {\n        const response = await axios.get(\"http://127.0.0.1:8000/api/users/create_templates/\");\n        setTemplateData(response.data);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Error fetching templates:\", err);\n        setError(err instanceof Error ? err.message : \"Failed to load template data\");\n        setLoading(false);\n      }\n    };\n    fetchTemplates();\n  }, []);\n  useEffect(() => {\n    const saveTimer = setTimeout(() => {\n      localStorage.setItem(\"safetyTemplate\", JSON.stringify(template));\n      setAllChangesSaved(true);\n      setTemplate(prev => ({\n        ...prev,\n        lastSaved: new Date()\n      }));\n    }, 1000);\n    return () => clearTimeout(saveTimer);\n  }, [template]);\n\n  // Load template from localStorage\n  useEffect(() => {\n    const savedTemplate = localStorage.getItem(\"safetyTemplate\");\n    if (savedTemplate) {\n      try {\n        const parsed = JSON.parse(savedTemplate);\n        setTemplate(parsed);\n      } catch (e) {\n        console.error(\"Failed to parse saved template\", e);\n      }\n    }\n  }, []);\n\n  // Mark changes as unsaved when template is modified\n  useEffect(() => {\n    setAllChangesSaved(false);\n  }, [template]);\n\n  // Template manipulation functions\n  const updateTemplateTitle = title => {\n    setTemplate(prev => ({\n      ...prev,\n      title\n    }));\n  };\n  const updateTemplateDescription = description => {\n    setTemplate(prev => ({\n      ...prev,\n      description\n    }));\n  };\n  const prepareTemplateForSaving = template => {\n    return {\n      ...template,\n      sections: template.sections.map((section, secIndex) => ({\n        ...section,\n        order: secIndex + 1,\n        template: template.id,\n        questions: section.questions.map((question, qIndex) => ({\n          ...question,\n          order: qIndex + 1,\n          section: section.id\n        }))\n      }))\n    };\n  };\n\n  // Fix implicit `any` in `.map()`\n  const updateQuestionOptions = (sectionId, questionId, optionIndex, value) => {\n    setTemplate(prev => ({\n      ...prev,\n      sections: prev.sections.map(section => ({\n        ...section,\n        questions: section.questions.map(question => {\n          var _question$options;\n          return question.id === questionId ? {\n            ...question,\n            options: (_question$options = question.options) === null || _question$options === void 0 ? void 0 : _question$options.map((option, idx) => idx === optionIndex ? value : option)\n          } : question;\n        })\n      }))\n    }));\n  };\n  const handleSave = async () => {\n    try {\n      const response = await axios.post(\"http://127.0.0.1:8000/api/users/create_templates/\", template, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      console.log(\"✅ Template saved successfully:\", response.data);\n      alert(\"Template saved successfully!\");\n      setAllChangesSaved(true);\n      setTemplate(prev => ({\n        ...prev,\n        lastSaved: new Date()\n      }));\n    } catch (error) {\n      // ✅ Type `error` properly\n      if (axios.isAxiosError(error)) {\n        var _error$response;\n        console.error(\"❌ Axios Error saving template:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      } else {\n        console.error(\"❌ Unknown error:\", error);\n      }\n      alert(\"Failed to save template. Check console for details.\");\n    }\n  };\n\n  // Handle back button\n  const handleBack = () => {\n    if (window.confirm(\"Do you want to save before leaving?\")) {\n      handleSave();\n    }\n    // Navigate back logic would go here\n    console.log(\"Navigating back...\");\n  };\n  const handleLogoUpload = async e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const formData = new FormData();\n    formData.append(\"logo\", file); // ✅ Send as a file\n\n    try {\n      const response = await axios.post(\"http://127.0.0.1:8000/api/upload_logo/\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      setTemplate(prev => ({\n        ...prev,\n        logo: response.data.logo_url\n      }));\n    } catch (error) {\n      console.error(\"❌ Error uploading logo:\", error);\n      alert(\"Failed to upload logo.\");\n    }\n  };\n  const addSection = () => {\n    const newSection = getDefaultSection();\n    setTemplate(prev => ({\n      ...prev,\n      sections: [...prev.sections, newSection]\n    }));\n    setActiveSectionId(newSection.id);\n    setTimeout(() => {\n      const newSectionElement = sectionRefs.current[newSection.id];\n      if (newSectionElement) {\n        newSectionElement.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"start\"\n        });\n      }\n    }, 100);\n  };\n  const updateSection = (sectionId, updates) => {\n    setTemplate(prev => ({\n      ...prev,\n      sections: prev.sections.map(section => section.id === sectionId ? {\n        ...section,\n        ...updates\n      } : section)\n    }));\n  };\n  const deleteSection = sectionId => {\n    setTemplate(prev => ({\n      ...prev,\n      sections: prev.sections.filter(section => section.id !== sectionId)\n    }));\n  };\n  const toggleSectionCollapse = sectionId => {\n    setTemplate(prev => ({\n      ...prev,\n      sections: prev.sections.map(section => section.id === sectionId ? {\n        ...section,\n        isCollapsed: !section.isCollapsed\n      } : section)\n    }));\n  };\n  const addQuestion = (sectionId, responseType = \"Text\") => {\n    const newQuestion = getDefaultQuestion(responseType);\n    setTemplate(prev => ({\n      ...prev,\n      sections: prev.sections.map(section => section.id === sectionId ? {\n        ...section,\n        questions: [...section.questions, newQuestion]\n      } : section)\n    }));\n    setActiveQuestionId(newQuestion.id);\n  };\n  const updateQuestion = (sectionId, questionId, updates) => {\n    setTemplate(prev => ({\n      ...prev,\n      sections: prev.sections.map(section => section.id === sectionId ? {\n        ...section,\n        questions: section.questions.map(question => question.id === questionId ? {\n          ...question,\n          ...updates\n        } : question)\n      } : section)\n    }));\n  };\n  const deleteQuestion = (sectionId, questionId) => {\n    setTemplate(prev => ({\n      ...prev,\n      sections: prev.sections.map(section => section.id === sectionId ? {\n        ...section,\n        questions: section.questions.filter(question => question.id !== questionId)\n      } : section)\n    }));\n  };\n  const addQuestionOption = (sectionId, questionId) => {\n    setTemplate(prev => ({\n      ...prev,\n      sections: prev.sections.map(section => section.id === sectionId ? {\n        ...section,\n        questions: section.questions.map(question => question.id === questionId && question.options ? {\n          ...question,\n          options: [...question.options, `Option ${question.options.length + 1}`]\n        } : question)\n      } : section)\n    }));\n  };\n  const updateQuestionOption = (sectionId, questionId, optionIndex, value) => {\n    setTemplate(prev => ({\n      ...prev,\n      sections: prev.sections.map(section => section.id === sectionId ? {\n        ...section,\n        questions: section.questions.map(question => question.id === questionId && question.options ? {\n          ...question,\n          options: question.options.map((option, idx) => idx === optionIndex ? value : option)\n        } : question)\n      } : section)\n    }));\n  };\n  const deleteQuestionOption = (sectionId, questionId, optionIndex) => {\n    setTemplate(prev => ({\n      ...prev,\n      sections: prev.sections.map(section => section.id === sectionId ? {\n        ...section,\n        questions: section.questions.map(question => question.id === questionId && question.options ? {\n          ...question,\n          options: question.options.filter((_, idx) => idx !== optionIndex)\n        } : question)\n      } : section)\n    }));\n  };\n  const changeQuestionResponseType = (sectionId, questionId, responseType) => {\n    setTemplate(prev => ({\n      ...prev,\n      sections: prev.sections.map(section => section.id === sectionId ? {\n        ...section,\n        questions: section.questions.map(question => question.id === questionId ? {\n          ...question,\n          responseType,\n          options: responseType === \"Multiple choice\" || responseType === \"Yes/No\" ? question.options || [\"Option 1\", \"Option 2\", \"Option 3\"] : undefined,\n          value: null\n        } : question)\n      } : section)\n    }));\n    setShowResponseTypeMenu(null);\n  };\n\n  // Drag and drop handlers\n  const handleDragStart = (type, id) => {\n    setDraggedItem({\n      type,\n      id\n    });\n  };\n  const handleDragOver = (type, id, e) => {\n    e.preventDefault();\n    if (draggedItem && draggedItem.id !== id) {\n      setDropTarget({\n        type,\n        id\n      });\n    }\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    if (!draggedItem || !dropTarget) return;\n    if (draggedItem.type === \"section\" && dropTarget.type === \"section\") {\n      // Reorder sections\n      setTemplate(prev => {\n        const sections = [...prev.sections];\n        const draggedIndex = sections.findIndex(s => s.id === draggedItem.id);\n        const dropIndex = sections.findIndex(s => s.id === dropTarget.id);\n        if (draggedIndex !== -1 && dropIndex !== -1) {\n          const [removed] = sections.splice(draggedIndex, 1);\n          sections.splice(dropIndex, 0, removed);\n        }\n        return {\n          ...prev,\n          sections\n        };\n      });\n    } else if (draggedItem.type === \"question\" && dropTarget.type === \"question\") {\n      // Find the sections containing the questions\n      const draggedSection = template.sections.find(s => s.questions.some(q => q.id === draggedItem.id));\n      const dropSection = template.sections.find(s => s.questions.some(q => q.id === dropTarget.id));\n      if (draggedSection && dropSection) {\n        setTemplate(prev => {\n          const newSections = [...prev.sections];\n\n          // Find the dragged question\n          const draggedSectionIndex = newSections.findIndex(s => s.id === draggedSection.id);\n          const draggedQuestionIndex = newSections[draggedSectionIndex].questions.findIndex(q => q.id === draggedItem.id);\n\n          // Find the drop target question\n          const dropSectionIndex = newSections.findIndex(s => s.id === dropSection.id);\n          const dropQuestionIndex = newSections[dropSectionIndex].questions.findIndex(q => q.id === dropTarget.id);\n\n          // Remove the dragged question\n          const [removedQuestion] = newSections[draggedSectionIndex].questions.splice(draggedQuestionIndex, 1);\n\n          // Insert at the new position\n          if (draggedSectionIndex === dropSectionIndex) {\n            // Same section\n            newSections[dropSectionIndex].questions.splice(dropQuestionIndex, 0, removedQuestion);\n          } else {\n            // Different sections\n            newSections[dropSectionIndex].questions.splice(dropQuestionIndex, 0, removedQuestion);\n          }\n          return {\n            ...prev,\n            sections: newSections\n          };\n        });\n      }\n    }\n    setDraggedItem(null);\n    setDropTarget(null);\n  };\n  const handleDragEnd = () => {\n    setDraggedItem(null);\n    setDropTarget(null);\n  };\n\n  // Mobile helpers\n  const handleMobileTextInput = (sectionId, questionId, value) => {\n    updateQuestion(sectionId, questionId, {\n      value\n    });\n  };\n  const handleMobileCheckboxToggle = (sectionId, questionId, checked) => {\n    updateQuestion(sectionId, questionId, {\n      value: checked\n    });\n  };\n  const handleMobileOptionSelect = (sectionId, questionId, option) => {\n    updateQuestion(sectionId, questionId, {\n      value: option\n    });\n  };\n  const handleMobileSliderChange = (sectionId, questionId, value) => {\n    updateQuestion(sectionId, questionId, {\n      value\n    });\n  };\n\n  // Render functions\n  const renderResponseTypeIcon = type => {\n    switch (type) {\n      case \"Site\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-type-icon site-icon\",\n          children: /*#__PURE__*/_jsxDEV(MapPin, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this);\n      case \"Inspection date\":\n        return /*#__PURE__*/_jsxDEV(Calendar, {\n          className: \"response-type-icon\",\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 16\n        }, this);\n      case \"Person\":\n        return /*#__PURE__*/_jsxDEV(User, {\n          className: \"response-type-icon\",\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 16\n        }, this);\n      case \"Inspection location\":\n        return /*#__PURE__*/_jsxDEV(MapPin, {\n          className: \"response-type-icon\",\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 16\n        }, this);\n      case \"Text\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-type-icon text-icon\",\n          children: \"Aa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 16\n        }, this);\n      case \"Number\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-type-icon number-icon\",\n          children: \"123\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 16\n        }, this);\n      case \"Checkbox\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-type-icon checkbox-icon\",\n          children: /*#__PURE__*/_jsxDEV(Check, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 11\n        }, this);\n      case \"Yes/No\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-type-icon yes-no-icon\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"yes\",\n            children: \"Y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 13\n          }, this), \"/\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"no\",\n            children: \"N\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 44\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 11\n        }, this);\n      case \"Multiple choice\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-type-icon multiple-choice-icon\",\n          children: \"\\u2630\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 16\n        }, this);\n      case \"Slider\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-type-icon slider-icon\",\n          children: \"\\u27F7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 16\n        }, this);\n      case \"Media\":\n        return /*#__PURE__*/_jsxDEV(Image, {\n          className: \"response-type-icon\",\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 16\n        }, this);\n      case \"Annotation\":\n        return /*#__PURE__*/_jsxDEV(Edit, {\n          className: \"response-type-icon\",\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 16\n        }, this);\n      case \"Date & Time\":\n        return /*#__PURE__*/_jsxDEV(Clock, {\n          className: \"response-type-icon\",\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-type-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const renderResponseTypeMenu = (sectionId, questionId) => {\n    if (showResponseTypeMenu !== questionId) return null;\n    const responseTypes = [\"Text\", \"Number\", \"Checkbox\", \"Yes/No\", \"Multiple choice\", \"Slider\", \"Media\", \"Annotation\", \"Date & Time\", \"Site\", \"Inspection date\", \"Person\", \"Inspection location\"];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"response-type-menu\",\n      style: {\n        position: \"absolute\",\n        top: \"100%\",\n        left: \"0\",\n        marginTop: \"4px\",\n        zIndex: 10000,\n        backgroundColor: \"#fff\",\n        borderRadius: \"8px\",\n        boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.15)\",\n        border: \"1px solid #e0e4e8\",\n        width: \"240px\",\n        maxHeight: \"400px\",\n        overflowY: \"auto\",\n        display: \"block\"\n      },\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"response-type-menu-header\",\n        style: {\n          padding: \"12px 16px\",\n          borderBottom: \"1px solid #e0e4e8\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 0,\n            fontSize: \"14px\",\n            fontWeight: 500\n          },\n          children: \"Select response type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-button\",\n          onClick: e => {\n            e.stopPropagation();\n            setShowResponseTypeMenu(null);\n          },\n          style: {\n            padding: \"4px\",\n            color: \"#5b6b79\",\n            background: \"none\",\n            border: \"none\",\n            cursor: \"pointer\"\n          },\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 679,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"response-type-options\",\n        style: {\n          padding: \"8px 0\"\n        },\n        children: responseTypes.map(type => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"response-type-option\",\n          onClick: e => {\n            e.stopPropagation();\n            changeQuestionResponseType(sectionId, questionId, type);\n          },\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            width: \"100%\",\n            padding: \"8px 16px\",\n            gap: \"8px\",\n            border: \"none\",\n            background: \"none\",\n            cursor: \"pointer\",\n            transition: \"background-color 0.2s\"\n          },\n          onMouseOver: e => {\n            ;\n            e.target.style.backgroundColor = \"#f5f7fa\";\n          },\n          onMouseOut: e => {\n            ;\n            e.target.style.backgroundColor = \"\";\n          },\n          children: [renderResponseTypeIcon(type), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              flex: 1,\n              textAlign: \"left\"\n            },\n            children: type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 724,\n            columnNumber: 15\n          }, this)]\n        }, type, true, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 696,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 7\n    }, this);\n  };\n  const handleResponseTypeClick = (e, questionId) => {\n    e.stopPropagation();\n    if (showResponseTypeMenu === questionId) {\n      setShowResponseTypeMenu(null);\n    } else {\n      setShowResponseTypeMenu(questionId);\n    }\n  };\n  const renderQuestionResponse = (question, sectionId) => {\n    var _question$options2;\n    switch (question.responseType) {\n      case \"Site\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field site-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"amazon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 747,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 13\n          }, this), question.required && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"required-indicator\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 750,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"manage-sites-button\",\n            children: [\"Manage sites \", /*#__PURE__*/_jsxDEV(ExternalLink, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 11\n        }, this);\n      case \"Inspection date\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field date-field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"date-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Enter date and time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 762,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 760,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 11\n        }, this);\n      case \"Person\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field person-field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Select person\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 771,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 772,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 11\n        }, this);\n      case \"Inspection location\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field location-field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Select location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 782,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 780,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 11\n        }, this);\n      case \"Text\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field text-field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-input\",\n            children: \"Text answer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 11\n        }, this);\n      case \"Number\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field number-field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"number-input\",\n            children: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 797,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 11\n        }, this);\n      case \"Checkbox\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field checkbox-field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-input\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkbox\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 805,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 804,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 803,\n          columnNumber: 11\n        }, this);\n      case \"Yes/No\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field yes-no-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"yes-no-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"yes-option\",\n              children: \"Yes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"no-option\",\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"na-option\",\n              children: \"N/A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 816,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 13\n          }, this), question.options && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"response-options\",\n            children: [question.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"response-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: option,\n                onChange: e => updateQuestionOption(sectionId, question.id, index, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 822,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-option\",\n                onClick: () => deleteQuestionOption(sectionId, question.id, index),\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 831,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 827,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 821,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"add-option\",\n              onClick: () => addQuestionOption(sectionId, question.id),\n              children: \"+ Response\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 835,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 812,\n          columnNumber: 11\n        }, this);\n      case \"Multiple choice\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field multiple-choice-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"multiple-choice-options\",\n            children: (_question$options2 = question.options) === null || _question$options2 === void 0 ? void 0 : _question$options2.map((option, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `choice-option choice-${index % 4}`,\n              children: option\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 13\n          }, this), question.options && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"response-options\",\n            children: [question.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"response-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: option,\n                onChange: e => updateQuestionOption(sectionId, question.id, index, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-option\",\n                onClick: () => deleteQuestionOption(sectionId, question.id, index),\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 866,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 862,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"add-option\",\n              onClick: () => addQuestionOption(sectionId, question.id),\n              children: \"+ Response\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 870,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 11\n        }, this);\n      case \"Slider\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field slider-field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"slider-track\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"slider-thumb\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"slider-labels\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 886,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 887,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 888,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 880,\n          columnNumber: 11\n        }, this);\n      case \"Media\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field media-field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"media-upload\",\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 898,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Upload media\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 897,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 11\n        }, this);\n      case \"Annotation\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field annotation-field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"annotation-area\",\n            children: [/*#__PURE__*/_jsxDEV(Edit, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 908,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Draw or annotate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 907,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 11\n        }, this);\n      case \"Date & Time\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field date-time-field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"date-time-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Select date and time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 918,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Clock, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 919,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 917,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 916,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-field\",\n          children: \"Unknown response type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 925,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const renderQuestion = (question, sectionId, index) => {\n    const isActive = activeQuestionId === question.id;\n    const isDragging = (draggedItem === null || draggedItem === void 0 ? void 0 : draggedItem.type) === \"question\" && draggedItem.id === question.id;\n    const isDropTarget = (dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.type) === \"question\" && dropTarget.id === question.id;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: el => {\n        if (el) questionRefs.current[question.id] = el;\n      },\n      className: `question-item ${isActive ? \"active\" : \"\"} ${isDragging ? \"dragging\" : \"\"} ${isDropTarget ? \"drop-target\" : \"\"}`,\n      onClick: () => setActiveQuestionId(question.id),\n      draggable: true,\n      onDragStart: e => handleDragStart(\"question\", question.id),\n      onDragOver: e => handleDragOver(\"question\", question.id, e),\n      onDrop: handleDrop,\n      onDragEnd: handleDragEnd,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-drag-handle\",\n          children: /*#__PURE__*/_jsxDEV(Move, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 950,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 949,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-number\",\n          children: index + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 952,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"question-text\",\n          value: question.text,\n          onChange: e => updateQuestion(sectionId, question.id, {\n            text: e.target.value\n          }),\n          placeholder: \"Type question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 953,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 948,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"response-type-selector\",\n          style: {\n            position: \"relative\",\n            display: \"inline-block\",\n            minWidth: \"200px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-response-type\",\n            onClick: e => handleResponseTypeClick(e, question.id),\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: \"8px\",\n              padding: \"8px 12px\",\n              border: \"1px solid #e0e4e8\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\",\n              backgroundColor: \"#fff\"\n            },\n            children: [renderResponseTypeIcon(question.responseType), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                flex: 1\n              },\n              children: question.responseType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 986,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 987,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 971,\n            columnNumber: 13\n          }, this), renderResponseTypeMenu(sectionId, question.id)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 963,\n          columnNumber: 11\n        }, this), renderQuestionResponse(question, sectionId)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 962,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"required-checkbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: question.required,\n            onChange: e => updateQuestion(sectionId, question.id, {\n              required: e.target.checked\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 997,\n            columnNumber: 13\n          }, this), \"Required\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 996,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete-question\",\n          onClick: () => deleteQuestion(sectionId, question.id),\n          children: /*#__PURE__*/_jsxDEV(Trash2, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1006,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1005,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 995,\n        columnNumber: 9\n      }, this)]\n    }, question.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 935,\n      columnNumber: 7\n    }, this);\n  };\n  const handleOver = (type, id, e) => {\n    e.preventDefault();\n    if (draggedItem && draggedItem.id !== id) {\n      setDropTarget({\n        type,\n        id\n      });\n    }\n  };\n  const renderSection = (section, index) => {\n    const isActive = activeSectionId === section.id;\n    const isDragging = (draggedItem === null || draggedItem === void 0 ? void 0 : draggedItem.type) === \"section\" && draggedItem.id === section.id;\n    const isDropTarget = (dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.type) === \"section\" && dropTarget.id === section.id;\n    const isTitlePage = index === 0;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: el => {\n        if (el) sectionRefs.current[section.id] = el;\n      },\n      className: `section-container ${isActive ? \"active\" : \"\"} ${isDragging ? \"dragging\" : \"\"} ${isDropTarget ? \"drop-target\" : \"\"}`,\n      onClick: () => setActiveSectionId(section.id),\n      draggable: !isTitlePage,\n      onDragStart: e => !isTitlePage && handleDragStart(\"section\", section.id),\n      onDragOver: e => handleOver(\"section\", section.id, e),\n      onDrop: handleDrop,\n      onDragEnd: handleDragEnd,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"collapse-button\",\n          onClick: e => {\n            e.stopPropagation();\n            toggleSectionCollapse(section.id);\n          },\n          children: section.isCollapsed ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1050,\n            columnNumber: 36\n          }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1050,\n            columnNumber: 62\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1043,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"section-title\",\n            value: section.title,\n            onChange: e => updateSection(section.id, {\n              title: e.target.value\n            }),\n            readOnly: isTitlePage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1054,\n            columnNumber: 13\n          }, this), !isTitlePage && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"edit-section-title\",\n            children: /*#__PURE__*/_jsxDEV(Edit, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1063,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1062,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1053,\n          columnNumber: 11\n        }, this), !isTitlePage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-section-button\",\n            onClick: e => {\n              e.stopPropagation();\n              if (window.confirm(\"Are you sure you want to delete this section?\")) {\n                deleteSection(section.id);\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1079,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1070,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1069,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1042,\n        columnNumber: 9\n      }, this), !section.isCollapsed && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [section.description && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-description\",\n          children: [section.description, isTitlePage && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"customize-link\",\n            children: \"customize the Title Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1090,\n            columnNumber: 33\n          }, this), isTitlePage && \" below.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1088,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"questions-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"questions-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-label\",\n              children: \"Question\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1097,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"response-type-label\",\n              children: \"Type of response\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1098,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"add-question-button\",\n              onClick: () => addQuestion(section.id),\n              children: /*#__PURE__*/_jsxDEV(Plus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1100,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1099,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1096,\n            columnNumber: 15\n          }, this), section.questions.map((question, idx) => renderQuestion(question, section.id, idx)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"add-question-button\",\n              onClick: () => addQuestion(section.id),\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1108,\n                columnNumber: 19\n              }, this), \" Add Question\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1107,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1106,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, section.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1027,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Handle mobile media upload\n  const handleMobileMediaUpload = (e, sectionId, questionId) => {\n    var _e$target$files2;\n    const file = (_e$target$files2 = e.target.files) === null || _e$target$files2 === void 0 ? void 0 : _e$target$files2[0];\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) {\n        // 5MB limit\n        alert(\"File is too large. Please choose an image under 5MB.\");\n        return;\n      }\n      const reader = new FileReader();\n      reader.onload = event => {\n        var _event$target;\n        if ((_event$target = event.target) !== null && _event$target !== void 0 && _event$target.result) {\n          updateQuestion(sectionId, questionId, {\n            value: event.target.result\n          });\n        }\n      };\n      reader.onerror = error => {\n        console.error(\"Error reading file:\", error);\n        alert(\"There was an error uploading your image. Please try again.\");\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // Render mobile question response\n  const renderMobileQuestionResponse = (question, sectionId) => {\n    var _question$options3;\n    switch (question.responseType) {\n      case \"Text\":\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"mobile-text-input\",\n          placeholder: \"Text answer\",\n          value: question.value || \"\",\n          onChange: e => handleMobileTextInput(sectionId, question.id, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1147,\n          columnNumber: 11\n        }, this);\n      case \"Number\":\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          className: \"mobile-number-input\",\n          placeholder: \"0\",\n          value: question.value || \"\",\n          onChange: e => handleMobileTextInput(sectionId, question.id, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1157,\n          columnNumber: 11\n        }, this);\n      case \"Checkbox\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile-checkbox\",\n          onClick: () => handleMobileCheckboxToggle(sectionId, question.id, !question.value),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mobile-checkbox-box ${question.value ? \"checked\" : \"\"}`,\n            children: question.value && /*#__PURE__*/_jsxDEV(Check, {\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1172,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1167,\n          columnNumber: 11\n        }, this);\n      case \"Yes/No\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile-yes-no\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `mobile-yes ${question.value === \"Yes\" ? \"selected\" : \"\"}`,\n            onClick: () => handleMobileOptionSelect(sectionId, question.id, \"Yes\"),\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `mobile-no ${question.value === \"No\" ? \"selected\" : \"\"}`,\n            onClick: () => handleMobileOptionSelect(sectionId, question.id, \"No\"),\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `mobile-na ${question.value === \"N/A\" ? \"selected\" : \"\"}`,\n            onClick: () => handleMobileOptionSelect(sectionId, question.id, \"N/A\"),\n            children: \"N/A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1178,\n          columnNumber: 11\n        }, this);\n      case \"Multiple choice\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile-multiple-choice\",\n          children: (_question$options3 = question.options) === null || _question$options3 === void 0 ? void 0 : _question$options3.map((option, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `mobile-choice mobile-choice-${index % 4} ${question.value === option ? \"selected\" : \"\"}`,\n            onClick: () => handleMobileOptionSelect(sectionId, question.id, option),\n            children: option\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1203,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1201,\n          columnNumber: 11\n        }, this);\n      case \"Slider\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile-slider\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0\",\n            max: \"100\",\n            value: question.value || 50,\n            onChange: e => handleMobileSliderChange(sectionId, question.id, Number.parseInt(e.target.value)),\n            className: \"mobile-slider-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-slider-labels\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: question.value || 50\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1215,\n          columnNumber: 11\n        }, this);\n      case \"Media\":\n        return /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"mobile-media-upload\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*,video/*\",\n            className: \"sr-only\",\n            onChange: e => handleMobileMediaUpload(e, sectionId, question.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1234,\n            columnNumber: 13\n          }, this), question.value ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-media-preview\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: question.value || \"/placeholder.svg\",\n              alt: \"Uploaded media\",\n              className: \"mobile-media-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1242,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Upload media\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1251,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1233,\n          columnNumber: 11\n        }, this);\n      case \"Annotation\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile-annotation\",\n          children: question.value ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-annotation-preview\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: question.value || \"/placeholder.svg\",\n              alt: \"Annotation\",\n              className: \"mobile-annotation-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1261,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1260,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Edit, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1269,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Draw or annotate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1270,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1258,\n          columnNumber: 11\n        }, this);\n      case \"Date & Time\":\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          className: \"mobile-date-time\",\n          value: question.value || \"\",\n          onChange: e => handleMobileTextInput(sectionId, question.id, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1277,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Unknown response type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1285,\n          columnNumber: 16\n        }, this);\n    }\n  };\n\n  // Enhance mobile preview rendering\n  const renderMobilePreview = () => {\n    if (!showMobilePreview) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-preview-collapsed\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"show-mobile-preview-button\",\n          onClick: () => setShowMobilePreview(true),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"24\",\n              height: \"24\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                x: \"5\",\n                y: \"2\",\n                width: \"14\",\n                height: \"20\",\n                rx: \"2\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1297,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"5\",\n                y1: \"18\",\n                x2: \"19\",\n                y2: \"18\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1298,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"9\",\n                y1: \"21\",\n                x2: \"15\",\n                y2: \"21\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                strokeLinecap: \"round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1299,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1296,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Show Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1302,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1294,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1293,\n        columnNumber: 9\n      }, this);\n    }\n    const activeSection = template.sections.find(s => s.id === activeSectionId) || template.sections[0];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mobile-preview\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-preview-header\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mobile-preview-close\",\n          onClick: () => setShowMobilePreview(false),\n          children: [/*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Hide Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1313,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-device-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile-device\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-device-notch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-status-bar\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile-time\",\n              children: new Date().toLocaleTimeString([], {\n                hour: \"2-digit\",\n                minute: \"2-digit\"\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1322,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile-status-icons\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mobile-signal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1326,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mobile-wifi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1327,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mobile-battery\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1328,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1325,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-content\",\n            children: [template.logo && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile-header-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mobile-logo\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: template.logo || \"/placeholder.svg\",\n                  alt: \"Template logo\",\n                  className: \"mobile-logo-image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1335,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1334,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mobile-template-title\",\n                children: template.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1337,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile-page-indicator\",\n              children: [\"Page \", template.sections.indexOf(activeSection) + 1, \" of \", template.sections.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1340,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"mobile-page-title\",\n              value: activeSection.title,\n              onChange: e => updateSection(activeSection.id, {\n                title: e.target.value\n              }),\n              placeholder: \"Enter page title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile-questions\",\n              children: activeSection.questions.map((question, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mobile-question\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mobile-question-text\",\n                  children: [question.required && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"mobile-required\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1354,\n                    columnNumber: 45\n                  }, this), \" \", question.text]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1353,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mobile-question-response\",\n                  children: renderMobileQuestionResponse(question, activeSection.id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1356,\n                  columnNumber: 21\n                }, this)]\n              }, question.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1352,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1350,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1331,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-nav-buttons\",\n            children: template.sections.map((section, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `mobile-nav-dot ${section.id === activeSection.id ? \"active\" : \"\"}`,\n              onClick: () => setActiveSectionId(section.id)\n            }, section.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1365,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-home-indicator\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1372,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1319,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1318,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1311,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"template-builder\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-navigation\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"company-name\",\n          children: \"FASHCOGNITIVE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1384,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: handleBack,\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1385,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1383,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `nav-tab ${activeTab === 1 ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(1),\n            children: \"1. Build\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `nav-tab ${activeTab === 2 ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(2),\n            children: \"2. Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `nav-tab ${activeTab === 3 ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(3),\n            children: \"3. Access\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1391,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1390,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-right\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"save-button\",\n          onClick: handleSave,\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1405,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1406,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1404,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1403,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1382,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"builder-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"template-content max-w-4xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"template-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"template-logo\",\n            children: [template.logo ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: template.logo || \"/placeholder.svg\",\n              alt: \"Template logo\",\n              className: \"logo-image\",\n              onClick: () => {\n                var _document$getElementB;\n                return (_document$getElementB = document.getElementById(\"logo-upload\")) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.click();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1416,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"logo-placeholder\",\n              onClick: () => {\n                var _document$getElementB2;\n                return (_document$getElementB2 = document.getElementById(\"logo-upload\")) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.click();\n              },\n              children: /*#__PURE__*/_jsxDEV(Plus, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1424,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"logo-upload\",\n              type: \"file\",\n              accept: \"image/*\",\n              className: \"sr-only\",\n              onChange: handleLogoUpload\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1427,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1414,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"template-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"template-title\",\n              value: template.title,\n              onChange: e => updateTemplateTitle(e.target.value),\n              placeholder: \"Untitled template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1430,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"template-description\",\n              value: template.description,\n              onChange: e => updateTemplateDescription(e.target.value),\n              placeholder: \"Add a description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1437,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1429,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1413,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sections-container\",\n          children: template.sections.map((section, idx) => renderSection(section, idx))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1446,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-section-container\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-section-button\",\n            onClick: addSection,\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1452,\n              columnNumber: 15\n            }, this), \" Add Section\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1451,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1450,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"template-footer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1456,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1412,\n        columnNumber: 9\n      }, this), renderMobilePreview()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1411,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1380,\n    columnNumber: 5\n  }, this);\n};\n_s(Create_template, \"jNruYrhdamODPadiKboKYNYKELg=\");\n_c = Create_template;\nexport default Create_template;\nvar _c;\n$RefreshReg$(_c, \"Create_template\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","axios","useState","useEffect","useRef","ChevronDown","ChevronUp","Edit","Plus","Calendar","User","MapPin","X","Check","Image","Trash2","Move","ExternalLink","Clock","ArrowLeft","Save","jsxDEV","_jsxDEV","Fragment","_Fragment","generateId","Math","random","toString","substring","getDefaultQuestion","responseType","id","text","required","options","undefined","value","getDefaultSection","title","questions","isCollapsed","getInitialTemplate","titlePageSection","description","sections","lastSaved","Date","lastPublished","logo","Create_template","template","setTemplate","activeTab","setActiveTab","activeSectionId","setActiveSectionId","activeQuestionId","setActiveQuestionId","draggedItem","setDraggedItem","dropTarget","setDropTarget","showResponseTypeMenu","setShowResponseTypeMenu","showMobilePreview","setShowMobilePreview","allChangesSaved","setAllChangesSaved","templateData","setTemplateData","loading","setLoading","error","setError","questionRefs","sectionRefs","fetchTemplates","response","get","data","err","console","Error","message","saveTimer","setTimeout","localStorage","setItem","JSON","stringify","prev","clearTimeout","savedTemplate","getItem","parsed","parse","e","updateTemplateTitle","updateTemplateDescription","prepareTemplateForSaving","map","section","secIndex","order","question","qIndex","updateQuestionOptions","sectionId","questionId","optionIndex","_question$options","option","idx","handleSave","post","headers","log","alert","isAxiosError","_error$response","handleBack","window","confirm","handleLogoUpload","_e$target$files","file","target","files","formData","FormData","append","logo_url","addSection","newSection","newSectionElement","current","scrollIntoView","behavior","block","updateSection","updates","deleteSection","filter","toggleSectionCollapse","addQuestion","newQuestion","updateQuestion","deleteQuestion","addQuestionOption","length","updateQuestionOption","deleteQuestionOption","_","changeQuestionResponseType","handleDragStart","type","handleDragOver","preventDefault","handleDrop","draggedIndex","findIndex","s","dropIndex","removed","splice","draggedSection","find","some","q","dropSection","newSections","draggedSectionIndex","draggedQuestionIndex","dropSectionIndex","dropQuestionIndex","removedQuestion","handleDragEnd","handleMobileTextInput","handleMobileCheckboxToggle","checked","handleMobileOptionSelect","handleMobileSliderChange","renderResponseTypeIcon","className","children","size","fileName","lineNumber","columnNumber","renderResponseTypeMenu","responseTypes","style","position","top","left","marginTop","zIndex","backgroundColor","borderRadius","boxShadow","border","width","maxHeight","overflowY","display","onClick","stopPropagation","padding","borderBottom","justifyContent","alignItems","margin","fontSize","fontWeight","color","background","cursor","gap","transition","onMouseOver","onMouseOut","flex","textAlign","handleResponseTypeClick","renderQuestionResponse","_question$options2","index","onChange","renderQuestion","isActive","isDragging","isDropTarget","ref","el","draggable","onDragStart","onDragOver","onDrop","onDragEnd","placeholder","minWidth","handleOver","renderSection","isTitlePage","readOnly","handleMobileMediaUpload","_e$target$files2","reader","FileReader","onload","event","_event$target","result","onerror","readAsDataURL","renderMobileQuestionResponse","_question$options3","min","max","Number","parseInt","accept","src","alt","renderMobilePreview","height","viewBox","fill","xmlns","x","y","rx","stroke","strokeWidth","x1","y1","x2","y2","strokeLinecap","activeSection","toLocaleTimeString","hour","minute","indexOf","_document$getElementB","document","getElementById","click","_document$getElementB2","_c","$RefreshReg$"],"sources":["/Users/thilak/PythonFiles/Intern/safety_culture/fashcognitive-intern/frontend/src/pages/Create_template.tsx"],"sourcesContent":["\"use client\"\nimport axios from \"axios\"; \n\nimport type React from \"react\"\nimport { useState, useEffect, useRef } from \"react\"\nimport '../assets/Create_template.css';\nimport { ChevronDown, ChevronUp, Edit, Plus, Calendar, User, MapPin, X, Check, Image, Trash2, Move, ExternalLink, Clock, ArrowLeft, Save } from 'lucide-react'\n\n// Types\ntype ResponseType =\n  | \"Site\"\n  | \"Inspection date\"\n  | \"Person\"\n  | \"Inspection location\"\n  | \"Text\"\n  | \"Number\"\n  | \"Checkbox\"\n  | \"Yes/No\"\n  | \"Multiple choice\"\n  | \"Slider\"\n  | \"Media\"\n  | \"Annotation\"\n  | \"Date & Time\"\n\ntype Question = {\n  id: string\n  text: string\n  responseType: ResponseType\n  required: boolean\n  options?: string[]\n  value?: string | string[] | boolean | number | null\n}\n\ntype Section = {\n  id: string\n  title: string\n  description?: string\n  questions: Question[]\n  isCollapsed: boolean\n}\n\ntype Template = {\n  id: string\n  title: string\n  description: string\n  sections: Section[]\n  lastSaved?: Date\n  lastPublished?: Date\n  logo?: string\n}\n\n// Helper functions\nconst generateId = () => Math.random().toString(36).substring(2, 9)\n\nconst getDefaultQuestion = (responseType: ResponseType = \"Text\"): Question => ({\n  id: generateId(),\n  text: \"Type question\",\n  responseType,\n  required: false,\n  options:\n    responseType === \"Multiple choice\" || responseType === \"Yes/No\" ? [\"Option 1\", \"Option 2\", \"Option 3\"] : undefined,\n  value: null,\n})\n\nconst getDefaultSection = (title = \"Untitled Page\"): Section => ({\n  id: generateId(),\n  title,\n  questions: [],\n  isCollapsed: false,\n})\n\nconst getInitialTemplate = (): Template => {\n  const titlePageSection: Section = {\n    id: generateId(),\n    title: \"Title Page\",\n    description: \"The Title Page is the first page of your inspection report. You can\",\n    questions: [\n      {\n        id: generateId(),\n        text: \"Site conducted\",\n        responseType: \"Site\",\n        required: true,\n        value: null,\n      },\n      {\n        id: generateId(),\n        text: \"Conducted on\",\n        responseType: \"Inspection date\",\n        required: true,\n        value: null,\n      },\n      {\n        id: generateId(),\n        text: \"Prepared by\",\n        responseType: \"Person\",\n        required: true,\n        value: null,\n      },\n      {\n        id: generateId(),\n        text: \"Location\",\n        responseType: \"Inspection location\",\n        required: true,\n        value: null,\n      },\n    ],\n    isCollapsed: false,\n  }\n\n  return {\n    id: generateId(),\n    title: \"Untitled template\",\n    description: \"Add a description\",\n    sections: [titlePageSection],\n    lastSaved: new Date(),\n    lastPublished: new Date(),\n    logo: undefined,\n  }\n}\n\n// Main component\nconst Create_template = () => {\n  const [template, setTemplate] = useState<Template>(getInitialTemplate())\n  const [activeTab, setActiveTab] = useState<number>(1)\n  const [activeSectionId, setActiveSectionId] = useState<string | null>(null)\n  const [activeQuestionId, setActiveQuestionId] = useState<string | null>(null)\n  const [draggedItem, setDraggedItem] = useState<{ type: \"question\" | \"section\"; id: string } | null>(null)\n  const [dropTarget, setDropTarget] = useState<{ type: \"question\" | \"section\"; id: string } | null>(null)\n  const [showResponseTypeMenu, setShowResponseTypeMenu] = useState<string | null>(null)\n  const [showMobilePreview, setShowMobilePreview] = useState<boolean>(true)\n  const [allChangesSaved, setAllChangesSaved] = useState<boolean>(true)\n  const [templateData, setTemplateData] = useState<any[]>([])\n  const [loading, setLoading] = useState<boolean>(true)\n  const [error, setError] = useState<string | null>(null)\n\n  // Refs\n  const questionRefs = useRef<{ [key: string]: HTMLDivElement | null }>({})\n  const sectionRefs = useRef<{ [key: string]: HTMLDivElement | null }>({})\n\n  useEffect(() => {\n    const fetchTemplates = async () => {\n      try {\n        const response = await axios.get(\"http://127.0.0.1:8000/api/users/create_templates/\");\n        setTemplateData(response.data);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Error fetching templates:\", err);\n        setError(err instanceof Error ? err.message : \"Failed to load template data\");\n        setLoading(false);\n      }\n    };\n    fetchTemplates();\n  }, []);\n\n  useEffect(() => {\n    const saveTimer = setTimeout(() => {\n      localStorage.setItem(\"safetyTemplate\", JSON.stringify(template))\n      setAllChangesSaved(true)\n      setTemplate((prev) => ({\n        ...prev,\n        lastSaved: new Date(),\n      }))\n    }, 1000)\n\n    return () => clearTimeout(saveTimer)\n  }, [template])\n\n  // Load template from localStorage\n  useEffect(() => {\n    const savedTemplate = localStorage.getItem(\"safetyTemplate\")\n    if (savedTemplate) {\n      try {\n        const parsed = JSON.parse(savedTemplate)\n        setTemplate(parsed)\n      } catch (e) {\n        console.error(\"Failed to parse saved template\", e)\n      }\n    }\n  }, [])\n\n  // Mark changes as unsaved when template is modified\n  useEffect(() => {\n    setAllChangesSaved(false)\n  }, [template])\n\n  // Template manipulation functions\n  const updateTemplateTitle = (title: string) => {\n    setTemplate((prev) => ({ ...prev, title }))\n  }\n\n  const updateTemplateDescription = (description: string) => {\n    setTemplate((prev) => ({ ...prev, description }))\n  }\n\n  interface Question {\n    id: string;\n    text: string;\n    responseType: string;\n    required: boolean;\n    order?: number;\n    section?: string;\n    options?: string[];  // ✅ Fix: Add `options`\n    value?: string | number | boolean | null;  // ✅ Fix: Add `value`\n  }\n  \n  interface Section {\n    id: string;\n    title: string;\n    description?: string;\n    order?: number;\n    template?: string;\n    isCollapsed?: boolean;  // ✅ Fix: Add `isCollapsed`\n    questions: Question[];\n  }\n  \n  interface Template {\n    id: string;\n    title: string;\n    description?: string;\n    logo?: string;  // ✅ Fix: Add `logo`\n    sections: Section[];\n  }\n  \n  const prepareTemplateForSaving = (template: Template): Template => {\n    return {\n      ...template,\n      sections: template.sections.map((section: Section, secIndex: number) => ({\n        ...section,\n        order: secIndex + 1,\n        template: template.id,\n        questions: section.questions.map((question: Question, qIndex: number) => ({\n          ...question,\n          order: qIndex + 1,\n          section: section.id,\n        })),\n      })),\n    };\n  };\n  \n  // Fix implicit `any` in `.map()`\n  const updateQuestionOptions = (sectionId: string, questionId: string, optionIndex: number, value: string) => {\n    setTemplate((prev) => ({\n      ...prev,\n      sections: prev.sections.map((section: Section) => ({\n        ...section,\n        questions: section.questions.map((question: Question) =>\n          question.id === questionId\n            ? {\n                ...question,\n                options: question.options?.map((option: string, idx: number) => (idx === optionIndex ? value : option)),\n              }\n            : question\n        ),\n      })),\n    }));\n  };\n  \n\n  \n\n  const handleSave = async () => {\n    try {\n      const response = await axios.post(\"http://127.0.0.1:8000/api/users/create_templates/\", template, {\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n\n      console.log(\"✅ Template saved successfully:\", response.data);\n      alert(\"Template saved successfully!\");\n      setAllChangesSaved(true);\n      setTemplate((prev) => ({\n        ...prev,\n        lastSaved: new Date(),\n      }));\n    } catch (error: unknown) {  // ✅ Type `error` properly\n      if (axios.isAxiosError(error)) {\n        console.error(\"❌ Axios Error saving template:\", error.response?.data || error.message);\n      } else {\n        console.error(\"❌ Unknown error:\", error);\n      }\n      alert(\"Failed to save template. Check console for details.\");\n    }\n  };\n\n  \n  \n  // Handle back button\n  const handleBack = () => {\n    if (window.confirm(\"Do you want to save before leaving?\")) {\n      handleSave()\n    }\n    // Navigate back logic would go here\n    console.log(\"Navigating back...\")\n  }\n\n  const handleLogoUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n  \n    const formData = new FormData();\n    formData.append(\"logo\", file);  // ✅ Send as a file\n  \n    try {\n      const response = await axios.post(\"http://127.0.0.1:8000/api/upload_logo/\", formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n  \n      setTemplate((prev) => ({ ...prev, logo: response.data.logo_url }));\n    } catch (error) {\n      console.error(\"❌ Error uploading logo:\", error);\n      alert(\"Failed to upload logo.\");\n    }\n  };\n  \n  \n\n  const addSection = () => {\n    const newSection = getDefaultSection()\n    setTemplate((prev) => ({\n      ...prev,\n      sections: [...prev.sections, newSection],\n    }))\n    setActiveSectionId(newSection.id)\n    setTimeout(() => {\n      const newSectionElement = sectionRefs.current[newSection.id]\n      if (newSectionElement) {\n        newSectionElement.scrollIntoView({ behavior: \"smooth\", block: \"start\" })\n      }\n    }, 100)\n  }\n\n  const updateSection = (sectionId: string, updates: Partial<Section>) => {\n    setTemplate((prev) => ({\n      ...prev,\n      sections: prev.sections.map((section) => (section.id === sectionId ? { ...section, ...updates } : section)),\n    }))\n  }\n\n  const deleteSection = (sectionId: string) => {\n    setTemplate((prev) => ({\n      ...prev,\n      sections: prev.sections.filter((section) => section.id !== sectionId),\n    }))\n  }\n\n  const toggleSectionCollapse = (sectionId: string) => {\n    setTemplate((prev) => ({\n      ...prev,\n      sections: prev.sections.map((section) =>\n        section.id === sectionId ? { ...section, isCollapsed: !section.isCollapsed } : section,\n      ),\n    }))\n  }\n\n  const addQuestion = (sectionId: string, responseType: ResponseType = \"Text\") => {\n    const newQuestion = getDefaultQuestion(responseType)\n    setTemplate((prev) => ({\n      ...prev,\n      sections: prev.sections.map((section) =>\n        section.id === sectionId\n          ? {\n              ...section,\n              questions: [...section.questions, newQuestion],\n            }\n          : section,\n      ),\n    }))\n    setActiveQuestionId(newQuestion.id)\n  }\n\n  const updateQuestion = (sectionId: string, questionId: string, updates: Partial<Question>) => {\n    setTemplate((prev) => ({\n      ...prev,\n      sections: prev.sections.map((section) =>\n        section.id === sectionId\n          ? {\n              ...section,\n              questions: section.questions.map((question) =>\n                question.id === questionId ? { ...question, ...updates } : question,\n              ),\n            }\n          : section,\n      ),\n    }))\n  }\n\n  const deleteQuestion = (sectionId: string, questionId: string) => {\n    setTemplate((prev) => ({\n      ...prev,\n      sections: prev.sections.map((section) =>\n        section.id === sectionId\n          ? {\n              ...section,\n              questions: section.questions.filter((question) => question.id !== questionId),\n            }\n          : section,\n      ),\n    }))\n  }\n\n  const addQuestionOption = (sectionId: string, questionId: string) => {\n    setTemplate((prev) => ({\n      ...prev,\n      sections: prev.sections.map((section) =>\n        section.id === sectionId\n          ? {\n              ...section,\n              questions: section.questions.map((question) =>\n                question.id === questionId && question.options\n                  ? {\n                      ...question,\n                      options: [...question.options, `Option ${question.options.length + 1}`],\n                    }\n                  : question,\n              ),\n            }\n          : section,\n      ),\n    }))\n  }\n\n  const updateQuestionOption = (sectionId: string, questionId: string, optionIndex: number, value: string) => {\n    setTemplate((prev) => ({\n      ...prev,\n      sections: prev.sections.map((section) =>\n        section.id === sectionId\n          ? {\n              ...section,\n              questions: section.questions.map((question) =>\n                question.id === questionId && question.options\n                  ? {\n                      ...question,\n                      options: question.options.map((option, idx) => (idx === optionIndex ? value : option)),\n                    }\n                  : question,\n              ),\n            }\n          : section,\n      ),\n    }))\n  }\n\n  const deleteQuestionOption = (sectionId: string, questionId: string, optionIndex: number) => {\n    setTemplate((prev) => ({\n      ...prev,\n      sections: prev.sections.map((section) =>\n        section.id === sectionId\n          ? {\n              ...section,\n              questions: section.questions.map((question) =>\n                question.id === questionId && question.options\n                  ? {\n                      ...question,\n                      options: question.options.filter((_, idx) => idx !== optionIndex),\n                    }\n                  : question,\n              ),\n            }\n          : section,\n      ),\n    }))\n  }\n\n  const changeQuestionResponseType = (sectionId: string, questionId: string, responseType: ResponseType) => {\n    setTemplate((prev) => ({\n      ...prev,\n      sections: prev.sections.map((section) =>\n        section.id === sectionId\n          ? {\n              ...section,\n              questions: section.questions.map((question) =>\n                question.id === questionId\n                  ? {\n                      ...question,\n                      responseType,\n                      options:\n                        responseType === \"Multiple choice\" || responseType === \"Yes/No\"\n                          ? question.options || [\"Option 1\", \"Option 2\", \"Option 3\"]\n                          : undefined,\n                      value: null,\n                    }\n                  : question,\n              ),\n            }\n          : section,\n      ),\n    }))\n    setShowResponseTypeMenu(null)\n  }\n\n  // Drag and drop handlers\n  const handleDragStart = (type: \"question\" | \"section\", id: string) => {\n    setDraggedItem({ type, id })\n  }\n\n  const handleDragOver = (type: \"question\" | \"section\", id: string, e: React.DragEvent) => {\n    e.preventDefault()\n    if (draggedItem && draggedItem.id !== id) {\n      setDropTarget({ type, id })\n    }\n  }\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault()\n    if (!draggedItem || !dropTarget) return\n\n    if (draggedItem.type === \"section\" && dropTarget.type === \"section\") {\n      // Reorder sections\n      setTemplate((prev) => {\n        const sections = [...prev.sections]\n        const draggedIndex = sections.findIndex((s) => s.id === draggedItem.id)\n        const dropIndex = sections.findIndex((s) => s.id === dropTarget.id)\n\n        if (draggedIndex !== -1 && dropIndex !== -1) {\n          const [removed] = sections.splice(draggedIndex, 1)\n          sections.splice(dropIndex, 0, removed)\n        }\n\n        return { ...prev, sections }\n      })\n    } else if (draggedItem.type === \"question\" && dropTarget.type === \"question\") {\n      // Find the sections containing the questions\n      const draggedSection = template.sections.find((s) => s.questions.some((q) => q.id === draggedItem.id))\n\n      const dropSection = template.sections.find((s) => s.questions.some((q) => q.id === dropTarget.id))\n\n      if (draggedSection && dropSection) {\n        setTemplate((prev) => {\n          const newSections = [...prev.sections]\n\n          // Find the dragged question\n          const draggedSectionIndex = newSections.findIndex((s) => s.id === draggedSection.id)\n          const draggedQuestionIndex = newSections[draggedSectionIndex].questions.findIndex(\n            (q) => q.id === draggedItem.id,\n          )\n\n          // Find the drop target question\n          const dropSectionIndex = newSections.findIndex((s) => s.id === dropSection.id)\n          const dropQuestionIndex = newSections[dropSectionIndex].questions.findIndex((q) => q.id === dropTarget.id)\n\n          // Remove the dragged question\n          const [removedQuestion] = newSections[draggedSectionIndex].questions.splice(draggedQuestionIndex, 1)\n\n          // Insert at the new position\n          if (draggedSectionIndex === dropSectionIndex) {\n            // Same section\n            newSections[dropSectionIndex].questions.splice(dropQuestionIndex, 0, removedQuestion)\n          } else {\n            // Different sections\n            newSections[dropSectionIndex].questions.splice(dropQuestionIndex, 0, removedQuestion)\n          }\n\n          return { ...prev, sections: newSections }\n        })\n      }\n    }\n\n    setDraggedItem(null)\n    setDropTarget(null)\n  }\n\n  const handleDragEnd = () => {\n    setDraggedItem(null)\n    setDropTarget(null)\n  }\n\n  // Mobile helpers\n  const handleMobileTextInput = (sectionId: string, questionId: string, value: string) => {\n    updateQuestion(sectionId, questionId, { value })\n  }\n\n  const handleMobileCheckboxToggle = (sectionId: string, questionId: string, checked: boolean) => {\n    updateQuestion(sectionId, questionId, { value: checked })\n  }\n\n  const handleMobileOptionSelect = (sectionId: string, questionId: string, option: string) => {\n    updateQuestion(sectionId, questionId, { value: option })\n  }\n\n  const handleMobileSliderChange = (sectionId: string, questionId: string, value: number) => {\n    updateQuestion(sectionId, questionId, { value })\n  }\n\n  // Render functions\n  const renderResponseTypeIcon = (type: ResponseType) => {\n    switch (type) {\n      case \"Site\":\n        return (\n          <div className=\"response-type-icon site-icon\">\n            <MapPin size={14} />\n          </div>\n        )\n      case \"Inspection date\":\n        return <Calendar className=\"response-type-icon\" size={18} />\n      case \"Person\":\n        return <User className=\"response-type-icon\" size={18} />\n      case \"Inspection location\":\n        return <MapPin className=\"response-type-icon\" size={18} />\n      case \"Text\":\n        return <div className=\"response-type-icon text-icon\">Aa</div>\n      case \"Number\":\n        return <div className=\"response-type-icon number-icon\">123</div>\n      case \"Checkbox\":\n        return (\n          <div className=\"response-type-icon checkbox-icon\">\n            <Check size={14} />\n          </div>\n        )\n      case \"Yes/No\":\n        return (\n          <div className=\"response-type-icon yes-no-icon\">\n            <span className=\"yes\">Y</span>/<span className=\"no\">N</span>\n          </div>\n        )\n      case \"Multiple choice\":\n        return <div className=\"response-type-icon multiple-choice-icon\">☰</div>\n      case \"Slider\":\n        return <div className=\"response-type-icon slider-icon\">⟷</div>\n      case \"Media\":\n        return <Image className=\"response-type-icon\" size={18} />\n      case \"Annotation\":\n        return <Edit className=\"response-type-icon\" size={18} />\n      case \"Date & Time\":\n        return <Clock className=\"response-type-icon\" size={18} />\n      default:\n        return <div className=\"response-type-icon\"></div>\n    }\n  }\n\n  const renderResponseTypeMenu = (sectionId: string, questionId: string) => {\n    if (showResponseTypeMenu !== questionId) return null\n\n    const responseTypes: ResponseType[] = [\n      \"Text\",\n      \"Number\",\n      \"Checkbox\",\n      \"Yes/No\",\n      \"Multiple choice\",\n      \"Slider\",\n      \"Media\",\n      \"Annotation\",\n      \"Date & Time\",\n      \"Site\",\n      \"Inspection date\",\n      \"Person\",\n      \"Inspection location\",\n    ]\n\n    return (\n      <div\n        className=\"response-type-menu\"\n        style={{\n          position: \"absolute\",\n          top: \"100%\",\n          left: \"0\",\n          marginTop: \"4px\",\n          zIndex: 10000,\n          backgroundColor: \"#fff\",\n          borderRadius: \"8px\",\n          boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.15)\",\n          border: \"1px solid #e0e4e8\",\n          width: \"240px\",\n          maxHeight: \"400px\",\n          overflowY: \"auto\",\n          display: \"block\",\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div\n          className=\"response-type-menu-header\"\n          style={{\n            padding: \"12px 16px\",\n            borderBottom: \"1px solid #e0e4e8\",\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n          }}\n        >\n          <h3 style={{ margin: 0, fontSize: \"14px\", fontWeight: 500 }}>Select response type</h3>\n          <button\n            className=\"close-button\"\n            onClick={(e) => {\n              e.stopPropagation()\n              setShowResponseTypeMenu(null)\n            }}\n            style={{\n              padding: \"4px\",\n              color: \"#5b6b79\",\n              background: \"none\",\n              border: \"none\",\n              cursor: \"pointer\",\n            }}\n          >\n            <X size={18} />\n          </button>\n        </div>\n        <div className=\"response-type-options\" style={{ padding: \"8px 0\" }}>\n          {responseTypes.map((type) => (\n            <button\n              key={type}\n              className=\"response-type-option\"\n              onClick={(e) => {\n                e.stopPropagation()\n                changeQuestionResponseType(sectionId, questionId, type)\n              }}\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                width: \"100%\",\n                padding: \"8px 16px\",\n                gap: \"8px\",\n                border: \"none\",\n                background: \"none\",\n                cursor: \"pointer\",\n                transition: \"background-color 0.2s\",\n              }}\n              onMouseOver={(e) => {\n                ;(e.target as HTMLElement).style.backgroundColor = \"#f5f7fa\"\n              }}\n              onMouseOut={(e) => {\n                ;(e.target as HTMLElement).style.backgroundColor = \"\"\n              }}\n            >\n              {renderResponseTypeIcon(type)}\n              <span style={{ flex: 1, textAlign: \"left\" }}>{type}</span>\n            </button>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  const handleResponseTypeClick = (e: React.MouseEvent, questionId: string) => {\n    e.stopPropagation()\n    if (showResponseTypeMenu === questionId) {\n      setShowResponseTypeMenu(null)\n    } else {\n      setShowResponseTypeMenu(questionId)\n    }\n  }\n\n  const renderQuestionResponse = (question: Question, sectionId: string) => {\n    switch (question.responseType) {\n      case \"Site\":\n        return (\n          <div className=\"response-field site-field\">\n            <div className=\"dropdown-field\">\n              <span>amazon</span>\n              <ChevronDown size={16} />\n            </div>\n            {question.required && <div className=\"required-indicator\"></div>}\n            <button className=\"manage-sites-button\">\n              Manage sites <ExternalLink size={14} />\n            </button>\n          </div>\n        )\n\n      case \"Inspection date\":\n        return (\n          <div className=\"response-field date-field\">\n            <div className=\"date-input\">\n              <span>Enter date and time</span>\n              <Calendar size={16} />\n            </div>\n          </div>\n        )\n\n      case \"Person\":\n        return (\n          <div className=\"response-field person-field\">\n            <div className=\"dropdown-field\">\n              <span>Select person</span>\n              <ChevronDown size={16} />\n            </div>\n          </div>\n        )\n\n      case \"Inspection location\":\n        return (\n          <div className=\"response-field location-field\">\n            <div className=\"dropdown-field\">\n              <span>Select location</span>\n              <ChevronDown size={16} />\n            </div>\n          </div>\n        )\n\n      case \"Text\":\n        return (\n          <div className=\"response-field text-field\">\n            <div className=\"text-input\">Text answer</div>\n          </div>\n        )\n\n      case \"Number\":\n        return (\n          <div className=\"response-field number-field\">\n            <div className=\"number-input\">0</div>\n          </div>\n        )\n\n      case \"Checkbox\":\n        return (\n          <div className=\"response-field checkbox-field\">\n            <div className=\"checkbox-input\">\n              <div className=\"checkbox\"></div>\n            </div>\n          </div>\n        )\n\n      case \"Yes/No\":\n        return (\n          <div className=\"response-field yes-no-field\">\n            <div className=\"yes-no-options\">\n              <button className=\"yes-option\">Yes</button>\n              <button className=\"no-option\">No</button>\n              <button className=\"na-option\">N/A</button>\n            </div>\n            {question.options && (\n              <div className=\"response-options\">\n                {question.options.map((option, index) => (\n                  <div key={index} className=\"response-option\">\n                    <input\n                      type=\"text\"\n                      value={option}\n                      onChange={(e) => updateQuestionOption(sectionId, question.id, index, e.target.value)}\n                    />\n                    <button\n                      className=\"delete-option\"\n                      onClick={() => deleteQuestionOption(sectionId, question.id, index)}\n                    >\n                      <X size={14} />\n                    </button>\n                  </div>\n                ))}\n                <button className=\"add-option\" onClick={() => addQuestionOption(sectionId, question.id)}>\n                  + Response\n                </button>\n              </div>\n            )}\n          </div>\n        )\n\n      case \"Multiple choice\":\n        return (\n          <div className=\"response-field multiple-choice-field\">\n            <div className=\"multiple-choice-options\">\n              {question.options?.map((option, index) => (\n                <button key={index} className={`choice-option choice-${index % 4}`}>\n                  {option}\n                </button>\n              ))}\n            </div>\n            {question.options && (\n              <div className=\"response-options\">\n                {question.options.map((option, index) => (\n                  <div key={index} className=\"response-option\">\n                    <input\n                      type=\"text\"\n                      value={option}\n                      onChange={(e) => updateQuestionOption(sectionId, question.id, index, e.target.value)}\n                    />\n                    <button\n                      className=\"delete-option\"\n                      onClick={() => deleteQuestionOption(sectionId, question.id, index)}\n                    >\n                      <X size={14} />\n                    </button>\n                  </div>\n                ))}\n                <button className=\"add-option\" onClick={() => addQuestionOption(sectionId, question.id)}>\n                  + Response\n                </button>\n              </div>\n            )}\n          </div>\n        )\n\n      case \"Slider\":\n        return (\n          <div className=\"response-field slider-field\">\n            <div className=\"slider-container\">\n              <div className=\"slider-track\">\n                <div className=\"slider-thumb\"></div>\n              </div>\n              <div className=\"slider-labels\">\n                <span>0</span>\n                <span>50</span>\n                <span>100</span>\n              </div>\n            </div>\n          </div>\n        )\n\n      case \"Media\":\n        return (\n          <div className=\"response-field media-field\">\n            <div className=\"media-upload\">\n              <Image size={24} />\n              <span>Upload media</span>\n            </div>\n          </div>\n        )\n\n      case \"Annotation\":\n        return (\n          <div className=\"response-field annotation-field\">\n            <div className=\"annotation-area\">\n              <Edit size={24} />\n              <span>Draw or annotate</span>\n            </div>\n          </div>\n        )\n\n      case \"Date & Time\":\n        return (\n          <div className=\"response-field date-time-field\">\n            <div className=\"date-time-input\">\n              <span>Select date and time</span>\n              <Clock size={16} />\n            </div>\n          </div>\n        )\n\n      default:\n        return <div className=\"response-field\">Unknown response type</div>\n    }\n  }\n\n  const renderQuestion = (question: Question, sectionId: string, index: number) => {\n    const isActive = activeQuestionId === question.id\n    const isDragging = draggedItem?.type === \"question\" && draggedItem.id === question.id\n    const isDropTarget = dropTarget?.type === \"question\" && dropTarget.id === question.id\n\n    return (\n      <div\n        key={question.id}\n        ref={(el: HTMLDivElement | null) => {\n          if (el) questionRefs.current[question.id] = el\n        }}\n        className={`question-item ${isActive ? \"active\" : \"\"} ${isDragging ? \"dragging\" : \"\"} ${isDropTarget ? \"drop-target\" : \"\"}`}\n        onClick={() => setActiveQuestionId(question.id)}\n        draggable\n        onDragStart={(e) => handleDragStart(\"question\", question.id)}\n        onDragOver={(e) => handleDragOver(\"question\", question.id, e)}\n        onDrop={handleDrop}\n        onDragEnd={handleDragEnd}\n      >\n        <div className=\"question-header\">\n          <div className=\"question-drag-handle\">\n            <Move size={16} />\n          </div>\n          <div className=\"question-number\">{index + 1}</div>\n          <input\n            type=\"text\"\n            className=\"question-text\"\n            value={question.text}\n            onChange={(e) => updateQuestion(sectionId, question.id, { text: e.target.value })}\n            placeholder=\"Type question\"\n          />\n        </div>\n\n        <div className=\"question-body\">\n          <div\n            className=\"response-type-selector\"\n            style={{\n              position: \"relative\",\n              display: \"inline-block\",\n              minWidth: \"200px\",\n            }}\n          >\n            <div\n              className=\"selected-response-type\"\n              onClick={(e) => handleResponseTypeClick(e, question.id)}\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: \"8px\",\n                padding: \"8px 12px\",\n                border: \"1px solid #e0e4e8\",\n                borderRadius: \"4px\",\n                cursor: \"pointer\",\n                backgroundColor: \"#fff\",\n              }}\n            >\n              {renderResponseTypeIcon(question.responseType)}\n              <span style={{ flex: 1 }}>{question.responseType}</span>\n              <ChevronDown size={16} />\n            </div>\n            {renderResponseTypeMenu(sectionId, question.id)}\n          </div>\n\n          {renderQuestionResponse(question, sectionId)}\n        </div>\n\n        <div className=\"question-footer\">\n          <label className=\"required-checkbox\">\n            <input\n              type=\"checkbox\"\n              checked={question.required}\n              onChange={(e) => updateQuestion(sectionId, question.id, { required: e.target.checked })}\n            />\n            Required\n          </label>\n\n          <button className=\"delete-question\" onClick={() => deleteQuestion(sectionId, question.id)}>\n            <Trash2 size={16} />\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  const handleOver = (type: \"section\" | \"question\", id: string, e: React.DragEvent) => {\n    e.preventDefault()\n    if (draggedItem && draggedItem.id !== id) {\n      setDropTarget({ type, id })\n    }\n  }\n\n  const renderSection = (section: Section, index: number) => {\n    const isActive = activeSectionId === section.id\n    const isDragging = draggedItem?.type === \"section\" && draggedItem.id === section.id\n    const isDropTarget = dropTarget?.type === \"section\" && dropTarget.id === section.id\n    const isTitlePage = index === 0\n\n    return (\n      <div\n        key={section.id}\n        ref={(el: HTMLDivElement | null) => {\n          if (el) sectionRefs.current[section.id] = el\n        }}\n        className={`section-container ${isActive ? \"active\" : \"\"} ${isDragging ? \"dragging\" : \"\"} ${\n          isDropTarget ? \"drop-target\" : \"\"\n        }`}\n        onClick={() => setActiveSectionId(section.id)}\n        draggable={!isTitlePage}\n        onDragStart={(e) => !isTitlePage && handleDragStart(\"section\", section.id)}\n        onDragOver={(e) => handleOver(\"section\", section.id, e)}\n        onDrop={handleDrop}\n        onDragEnd={handleDragEnd}\n      >\n        <div className=\"section-header\">\n          <button\n            className=\"collapse-button\"\n            onClick={(e) => {\n              e.stopPropagation()\n              toggleSectionCollapse(section.id)\n            }}\n          >\n            {section.isCollapsed ? <ChevronUp size={18} /> : <ChevronDown size={18} />}\n          </button>\n\n          <div className=\"section-title-container\">\n            <input\n              type=\"text\"\n              className=\"section-title\"\n              value={section.title}\n              onChange={(e) => updateSection(section.id, { title: e.target.value })}\n              readOnly={isTitlePage}\n            />\n            {!isTitlePage && (\n              <button className=\"edit-section-title\">\n                <Edit size={16} />\n              </button>\n            )}\n          </div>\n\n          {!isTitlePage && (\n            <div className=\"section-actions\">\n              <button\n                className=\"delete-section-button\"\n                onClick={(e) => {\n                  e.stopPropagation()\n                  if (window.confirm(\"Are you sure you want to delete this section?\")) {\n                    deleteSection(section.id)\n                  }\n                }}\n              >\n                <Trash2 size={16} />\n              </button>\n            </div>\n          )}\n        </div>\n\n        {!section.isCollapsed && (\n          <>\n            {section.description && (\n              <div className=\"section-description\">\n                {section.description}\n                {isTitlePage && <button className=\"customize-link\">customize the Title Page</button>}\n                {isTitlePage && \" below.\"}\n              </div>\n            )}\n\n            <div className=\"questions-container\">\n              <div className=\"questions-header\">\n                <div className=\"question-label\">Question</div>\n                <div className=\"response-type-label\">Type of response</div>\n                <button className=\"add-question-button\" onClick={() => addQuestion(section.id)}>\n                  <Plus size={16} />\n                </button>\n              </div>\n\n              {section.questions.map((question, idx) => renderQuestion(question, section.id, idx))}\n\n              <div className=\"question-actions\">\n                <button className=\"add-question-button\" onClick={() => addQuestion(section.id)}>\n                  <Plus size={16} /> Add Question\n                </button>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    )\n  }\n\n  // Handle mobile media upload\n  const handleMobileMediaUpload = (e: React.ChangeEvent<HTMLInputElement>, sectionId: string, questionId: string) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) {\n        // 5MB limit\n        alert(\"File is too large. Please choose an image under 5MB.\")\n        return\n      }\n\n      const reader = new FileReader()\n      reader.onload = (event) => {\n        if (event.target?.result) {\n          updateQuestion(sectionId, questionId, { value: event.target.result as string })\n        }\n      }\n      reader.onerror = (error) => {\n        console.error(\"Error reading file:\", error)\n        alert(\"There was an error uploading your image. Please try again.\")\n      }\n      reader.readAsDataURL(file)\n    }\n  }\n\n  // Render mobile question response\n  const renderMobileQuestionResponse = (question: Question, sectionId: string) => {\n    switch (question.responseType) {\n      case \"Text\":\n        return (\n          <input\n            type=\"text\"\n            className=\"mobile-text-input\"\n            placeholder=\"Text answer\"\n            value={(question.value as string) || \"\"}\n            onChange={(e) => handleMobileTextInput(sectionId, question.id, e.target.value)}\n          />\n        )\n      case \"Number\":\n        return (\n          <input\n            type=\"number\"\n            className=\"mobile-number-input\"\n            placeholder=\"0\"\n            value={(question.value as string) || \"\"}\n            onChange={(e) => handleMobileTextInput(sectionId, question.id, e.target.value)}\n          />\n        )\n      case \"Checkbox\":\n        return (\n          <div\n            className=\"mobile-checkbox\"\n            onClick={() => handleMobileCheckboxToggle(sectionId, question.id, !(question.value as boolean))}\n          >\n            <div className={`mobile-checkbox-box ${question.value ? \"checked\" : \"\"}`}>\n              {question.value && <Check size={12} />}\n            </div>\n          </div>\n        )\n      case \"Yes/No\":\n        return (\n          <div className=\"mobile-yes-no\">\n            <button\n              className={`mobile-yes ${question.value === \"Yes\" ? \"selected\" : \"\"}`}\n              onClick={() => handleMobileOptionSelect(sectionId, question.id, \"Yes\")}\n            >\n              Yes\n            </button>\n            <button\n              className={`mobile-no ${question.value === \"No\" ? \"selected\" : \"\"}`}\n              onClick={() => handleMobileOptionSelect(sectionId, question.id, \"No\")}\n            >\n              No\n            </button>\n            <button\n              className={`mobile-na ${question.value === \"N/A\" ? \"selected\" : \"\"}`}\n              onClick={() => handleMobileOptionSelect(sectionId, question.id, \"N/A\")}\n            >\n              N/A\n            </button>\n          </div>\n        )\n      case \"Multiple choice\":\n        return (\n          <div className=\"mobile-multiple-choice\">\n            {question.options?.map((option, index) => (\n              <button\n                key={index}\n                className={`mobile-choice mobile-choice-${index % 4} ${question.value === option ? \"selected\" : \"\"}`}\n                onClick={() => handleMobileOptionSelect(sectionId, question.id, option)}\n              >\n                {option}\n              </button>\n            ))}\n          </div>\n        )\n      case \"Slider\":\n        return (\n          <div className=\"mobile-slider\">\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"100\"\n              value={(question.value as number) || 50}\n              onChange={(e) => handleMobileSliderChange(sectionId, question.id, Number.parseInt(e.target.value))}\n              className=\"mobile-slider-input\"\n            />\n            <div className=\"mobile-slider-labels\">\n              <span>0</span>\n              <span>{question.value || 50}</span>\n              <span>100</span>\n            </div>\n          </div>\n        )\n      case \"Media\":\n        return (\n          <label className=\"mobile-media-upload\">\n            <input\n              type=\"file\"\n              accept=\"image/*,video/*\"\n              className=\"sr-only\"\n              onChange={(e) => handleMobileMediaUpload(e, sectionId, question.id)}\n            />\n            {question.value ? (\n              <div className=\"mobile-media-preview\">\n                <img\n                  src={(question.value as string) || \"/placeholder.svg\"}\n                  alt=\"Uploaded media\"\n                  className=\"mobile-media-image\"\n                />\n              </div>\n            ) : (\n              <>\n                <Image size={20} />\n                <span>Upload media</span>\n              </>\n            )}\n          </label>\n        )\n      case \"Annotation\":\n        return (\n          <div className=\"mobile-annotation\">\n            {question.value ? (\n              <div className=\"mobile-annotation-preview\">\n                <img\n                  src={(question.value as string) || \"/placeholder.svg\"}\n                  alt=\"Annotation\"\n                  className=\"mobile-annotation-image\"\n                />\n              </div>\n            ) : (\n              <>\n                <Edit size={20} />\n                <span>Draw or annotate</span>\n              </>\n            )}\n          </div>\n        )\n      case \"Date & Time\":\n        return (\n          <input\n            type=\"datetime-local\"\n            className=\"mobile-date-time\"\n            value={(question.value as string) || \"\"}\n            onChange={(e) => handleMobileTextInput(sectionId, question.id, e.target.value)}\n          />\n        )\n      default:\n        return <div>Unknown response type</div>\n    }\n  }\n\n  // Enhance mobile preview rendering\n  const renderMobilePreview = () => {\n    if (!showMobilePreview) {\n      return (\n        <div className=\"mobile-preview-collapsed\">\n          <button className=\"show-mobile-preview-button\" onClick={() => setShowMobilePreview(true)}>\n            <div className=\"mobile-icon\">\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"5\" y=\"2\" width=\"14\" height=\"20\" rx=\"2\" stroke=\"currentColor\" strokeWidth=\"2\" />\n                <line x1=\"5\" y1=\"18\" x2=\"19\" y2=\"18\" stroke=\"currentColor\" strokeWidth=\"2\" />\n                <line x1=\"9\" y1=\"21\" x2=\"15\" y2=\"21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n              </svg>\n            </div>\n            <span>Show Preview</span>\n          </button>\n        </div>\n      )\n    }\n\n    const activeSection = template.sections.find((s: Section) => s.id === activeSectionId) || template.sections[0]\n\n    return (\n      <div className=\"mobile-preview\">\n        <div className=\"mobile-preview-header\">\n          <button className=\"mobile-preview-close\" onClick={() => setShowMobilePreview(false)}>\n            <X size={16} />\n            <span>Hide Preview</span>\n          </button>\n        </div>\n        <div className=\"mobile-device-container\">\n          <div className=\"mobile-device\">\n            <div className=\"mobile-device-notch\"></div>\n            <div className=\"mobile-status-bar\">\n              <div className=\"mobile-time\">\n                {new Date().toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}\n              </div>\n              <div className=\"mobile-status-icons\">\n                <div className=\"mobile-signal\"></div>\n                <div className=\"mobile-wifi\"></div>\n                <div className=\"mobile-battery\"></div>\n              </div>\n            </div>\n            <div className=\"mobile-content\">\n              {template.logo && (\n                <div className=\"mobile-header-content\">\n                  <div className=\"mobile-logo\">\n                    <img src={template.logo || \"/placeholder.svg\"} alt=\"Template logo\" className=\"mobile-logo-image\" />\n                  </div>\n                  <div className=\"mobile-template-title\">{template.title}</div>\n                </div>\n              )}\n              <div className=\"mobile-page-indicator\">\n                Page {template.sections.indexOf(activeSection) + 1} of {template.sections.length}\n              </div>\n              <input\n                type=\"text\"\n                className=\"mobile-page-title\"\n                value={activeSection.title}\n                onChange={(e) => updateSection(activeSection.id, { title: e.target.value })}\n                placeholder=\"Enter page title\"\n              />\n              <div className=\"mobile-questions\">\n                {activeSection.questions.map((question: Question, idx: number) => (\n                  <div key={question.id} className=\"mobile-question\">\n                    <div className=\"mobile-question-text\">\n                      {question.required && <span className=\"mobile-required\">*</span>} {question.text}\n                    </div>\n                    <div className=\"mobile-question-response\">\n                      {renderMobileQuestionResponse(question, activeSection.id)}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"mobile-nav-buttons\">\n              {template.sections.map((section: Section, index: number) => (\n                <div\n                  key={section.id}\n                  className={`mobile-nav-dot ${section.id === activeSection.id ? \"active\" : \"\"}`}\n                  onClick={() => setActiveSectionId(section.id)}\n                ></div>\n              ))}\n            </div>\n            <div className=\"mobile-home-indicator\"></div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"template-builder\">\n      {/* Top navigation bar */}\n      <div className=\"top-navigation\">\n        <div className=\"nav-left\">\n          <div className=\"company-name\">FASHCOGNITIVE</div>\n          <button className=\"back-button\" onClick={handleBack}>\n            <ArrowLeft size={16} />\n            <span>back</span>\n          </button>\n        </div>\n        <div className=\"nav-center\">\n          <div className=\"nav-tabs\">\n            <button className={`nav-tab ${activeTab === 1 ? \"active\" : \"\"}`} onClick={() => setActiveTab(1)}>\n              1. Build\n            </button>\n            <button className={`nav-tab ${activeTab === 2 ? \"active\" : \"\"}`} onClick={() => setActiveTab(2)}>\n              2. Report\n            </button>\n            <button className={`nav-tab ${activeTab === 3 ? \"active\" : \"\"}`} onClick={() => setActiveTab(3)}>\n              3. Access\n            </button>\n          </div>\n        </div>\n        <div className=\"nav-right\">\n          <button className=\"save-button\" onClick={handleSave}>\n            <Save size={16} />\n            <span>Save</span>\n          </button>\n        </div>\n      </div>\n\n      <div className=\"builder-content\">\n        <div className=\"template-content max-w-4xl mx-auto\">\n          <div className=\"template-header\">\n            <div className=\"template-logo\">\n              {template.logo ? (\n                <img\n                  src={template.logo || \"/placeholder.svg\"}\n                  alt=\"Template logo\"\n                  className=\"logo-image\"\n                  onClick={() => document.getElementById(\"logo-upload\")?.click()}\n                />\n              ) : (\n                <div className=\"logo-placeholder\" onClick={() => document.getElementById(\"logo-upload\")?.click()}>\n                  <Plus size={24} />\n                </div>\n              )}\n              <input id=\"logo-upload\" type=\"file\" accept=\"image/*\" className=\"sr-only\" onChange={handleLogoUpload} />\n            </div>\n            <div className=\"template-info\">\n              <input\n                type=\"text\"\n                className=\"template-title\"\n                value={template.title}\n                onChange={(e) => updateTemplateTitle(e.target.value)}\n                placeholder=\"Untitled template\"\n              />\n              <input\n                type=\"text\"\n                className=\"template-description\"\n                value={template.description}\n                onChange={(e) => updateTemplateDescription(e.target.value)}\n                placeholder=\"Add a description\"\n              />\n            </div>\n          </div>\n          <div className=\"sections-container\">\n            {template.sections.map((section, idx) => renderSection(section, idx))}\n          </div>\n\n          <div className=\"add-section-container\">\n            <button className=\"add-section-button\" onClick={addSection}>\n              <Plus size={16} /> Add Section\n            </button>\n          </div>\n\n          <div className=\"template-footer\"></div>\n        </div>\n\n        {renderMobilePreview()}\n      </div>\n    </div>\n  )\n}\n\nexport default Create_template\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}